.. The contents of this file may be included in multiple topics (using the includes directive).
.. The contents of this file should be modified in a way that preserves its ability to appear in multiple topics.


This configuration file has the following settings for ``bookshelf``:

``bookshelf['access_key_id']``
   The access key identifier. (This is configurable and may be pointed at external storage locations, such as Amazon EC2. Four settings require configuration when pointing at an external cookbook storage location: ``bookshelf['vip']``, for the endpoint used by the chef-client; ``bookshelf['external_url']``, for the endpoint used by the Chef server; ``bookshelf['access_key_id']``, for user access key; ``bookshelf['secret_access_key']``, for secret key; and ``opscode_erchef['s3_bucket']``, for the bucket name. Reconfigure the Chef server after changing these settings. Default value: generated by default.

``bookshelf['data_dir']``
   The directory in which on-disk data is stored. The default value is the recommended value. Default value: ``/var/opt/opscode/bookshelf/data``.

``bookshelf['dir']``
   The working directory. The default value is the recommended value. Default value: ``/var/opt/opscode/bookshelf``.

``bookshelf['enable']``
   Enable a service. Default value: ``true``.

``bookshelf['external_url']``
   The base URL to which the service is to return links to API resources. Use ``:host_header`` to ensure the URL is derived from the host header of the incoming HTTP request. Default value: ``:host_header``.

``bookshelf['ha']``
   Run the Chef server in a high availability topology. When ``topology`` is set to ``ha``, this setting defaults to ``true``. Default value: ``false``.

``bookshelf['listen']``
   The IP address on which the service is to listen. Default value: ``127.0.0.1``.

``bookshelf['log_directory']``
   The directory in which log data is stored. The default value is the recommended value. Default value: ``/var/log/opscode/bookshelf``.

``bookshelf['log_rotation']``
   The log rotation policy for this service. Log files are rotated when they exceed ``file_maxbytes``. The maximum number of log files in the rotation is defined by ``num_to_keep``. Default value:

   .. code-block:: ruby

      { 'file_maxbytes' => 104857600, 'num_to_keep' => 10 }

``bookshelf['port']``
   The port on which the service is to listen. Default value: ``4321``.

``bookshelf['secret_access_key']``
   The secret key. (This is configurable and may be pointed at external storage locations, such as Amazon EC2. Four settings require configuration when pointing at an external cookbook storage location: ``bookshelf['vip']``, for the endpoint used by the chef-client; ``bookshelf['external_url']``, for the endpoint used by the Chef server; ``bookshelf['access_key_id']``, for user access key; ``bookshelf['secret_access_key']``, for secret key; and ``opscode_erchef['s3_bucket']``, for the bucket name. Reconfigure the Chef server after changing these settings. Default value: generated by default.

``bookshelf['stream_download']``
   Enable stream downloading of cookbooks. This setting (when ``true``) typically results in improved cookbook download performance, especially with the memory usage of the **bookshelf** service and the behavior of load balancers and proxies in-between the chef-client and the Chef server. Default value: ``true``.

``bookshelf['vip']``
   The virtual IP address. Default value: ``127.0.0.1``.
